<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Process a set of intervals with Praat. — processWithPraat • nzilbb.labbcat</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Process a set of intervals with Praat. — processWithPraat" />
<meta property="og:description" content="This function instructs the LaBB-CAT server to invoke Praat for a set of sound
intervals, in order to extract acoustic measures." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@labbcat" />
<meta name="twitter:site" content="@labbcat" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nzilbb.labbcat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/examples/search-labels-alignments-praat-script.html">Search, Annotation, and Praat Script Example</a>
    </li>
    <li>
      <a href="../articles/examples/search-labels-alignments-r-script.html">Search, Annotation, and R Script Example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process a set of intervals with Praat.</h1>
    
    <div class="hidden name"><code>processWithPraat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function instructs the LaBB-CAT server to invoke Praat for a set of sound
intervals, in order to extract acoustic measures.</p>
    </div>

    <pre class="usage"><span class='fu'>processWithPraat</span>(
  <span class='no'>labbcat.url</span>,
  <span class='no'>matchIds</span>,
  <span class='no'>startOffsets</span>,
  <span class='no'>endOffsets</span>,
  <span class='no'>praat.script</span>,
  <span class='kw'>window.offset</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>gender.attribute</span> <span class='kw'>=</span> <span class='st'>"participant_gender"</span>,
  <span class='kw'>attributes</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>labbcat.url</th>
      <td><p>URL to the LaBB-CAT instance</p></td>
    </tr>
    <tr>
      <th>matchIds</th>
      <td><p>A vector of annotation IDs, e.g. the MatchId column, or the URL column,
of a results set.</p></td>
    </tr>
    <tr>
      <th>startOffsets</th>
      <td><p>The start time in seconds, or a vector of start times.</p></td>
    </tr>
    <tr>
      <th>endOffsets</th>
      <td><p>The end time in seconds, or a vector of end times.</p></td>
    </tr>
    <tr>
      <th>praat.script</th>
      <td><p>Script to run on each match. This may be a single string or a
character vector.</p></td>
    </tr>
    <tr>
      <th>window.offset</th>
      <td><p>In many circumstances, you will want some context before and after
the sample start/end time.  For this reason, you can specify a "window offset" -
this is a number of seconds to subtract from the sample start and add to the sample
end time, before extracting that part of the audio for processing. For example, if
the sample starts at 2.0s and ends at 3.0s, and you set the window offset to 0.5s,
then Praat will extract a sample of audio from  1.5s to 3.5s, and do the selected
processing on that sample.</p></td>
    </tr>
    <tr>
      <th>gender.attribute</th>
      <td><p>Which participant attribute represents the participant's gender.</p></td>
    </tr>
    <tr>
      <th>attributes</th>
      <td><p>Vector of participant attributes to make available to the script. For
example, if you want to use different acoustic parameters depending on what the
gender of the speaker is, including the "participant_gender" attribute will make a
variable called participant_gender$ available to the praat script, whose value will
be the gender of the speaker for that segment.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame of acoustic measures, one row for each matchId.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The exact measurements to return depend on the praat.script that is invoked. This is a
Praat script fragment that will run once for each sound interval specified.</p>
<p>There are functions to allow the generation of a number of pre-defined praat scripts
for common tasks such as formant, pitch, intensity, and centre of gravity -- see
<a href='praatScriptFormants.html'>praatScriptFormants</a>, <a href='praatScriptCentreOfGravity.html'>praatScriptCentreOfGravity</a>, <a href='praatScriptIntensity.html'>praatScriptIntensity</a>
and <a href='praatScriptPitch.html'>praatScriptPitch</a>.</p>
<p>You can provide your own script, either by building a string with your code, or loading
one from a file.</p>
<p>LaBB-CAT prefixes praat.script with code to open a sound file and extract a defined part
of it into a Sound object which is then selected.</p>
<p>LaBB-CAT `Remove's this Sound object after the script finishes executing. Any other objects
created by the script must be `Remove'd before the end of the script (otherwise Praat runs out
of memory during very large batches)</p>
<p>LaBB-CAT assumes that all calls to the function 'print' correspond to fields for export
and each field must be printed on its own line. Specifically it scans for lines of the
form:</p>
<p>print 'myOutputVariable' 'newline$'</p>
<p>Variables that can be assumed to be already set in the context of the script are:</p><ul>
<li><p><em>windowOffset</em>
   -- the value used for the Window Offset; how much context to include.</p></li>
<li><p><em>windowAbsoluteStart</em>
   -- the start time of the window extracted relative to the start of the original audio file.</p></li>
<li><p><em>windowAbsoluteEnd</em>
   -- the end time of the window extracted relative to the start of the original audio file.</p></li>
<li><p><em>windowDuration</em>
   -- the duration of the window extracted (including window offset).</p></li>
<li><p><em>targetAbsoluteStart</em>
   -- the start time of the target interval relative to the start of the original audio file.</p></li>
<li><p><em>targetAbsoluteEnd</em>
   -- the end time of the target interval relative to the start of the original audio file.</p></li>
<li><p><em>targetStart</em>
   -- the start time of the target interval relative to the start of the window extracted.</p></li>
<li><p><em>targetEnd</em>
   -- the end time of the target interval relative to the start of the window extracted.</p></li>
<li><p><em>targetDuration</em>
   -- the duration of the target interval.</p></li>
<li><p><em>sampleNumber</em>
   -- the number of the sample within the set of samples being processed.</p></li>
<li><p><em>sampleName$</em>
   -- the name of the extracted/selected Sound object.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='praatScriptFormants.html'>praatScriptFormants</a></p>
<p><a href='praatScriptCentreOfGravity.html'>praatScriptCentreOfGravity</a></p>
<p><a href='praatScriptIntensity.html'>praatScriptIntensity</a></p>
<p><a href='praatScriptPitch.html'>praatScriptPitch</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'>## define the LaBB-CAT URL</span>
<span class='no'>labbcat.url</span> <span class='kw'>&lt;-</span> <span class='st'>"https://labbcat.canterbury.ac.nz/demo/"</span>

<span class='co'>## Perform a search</span>
<span class='no'>results</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='getMatches.html'>getMatches</a></span>(<span class='no'>labbcat.url</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>segment</span><span class='kw'>=</span><span class='st'>"I"</span>))

<span class='co'>## get F1 and F2 for the mid point of the vowel</span>
<span class='no'>formants</span> <span class='kw'>&lt;-</span> <span class='fu'>processWithPraat</span>(
       <span class='no'>labbcat.url</span>,
       <span class='no'>results</span>$<span class='no'>MatchId</span>, <span class='no'>results</span>$<span class='no'>Target.segment.start</span>, <span class='no'>results</span>$<span class='no'>Target.segment.end</span>,
       <span class='fu'><a href='praatScriptFormants.html'>praatScriptFormants</a></span>())

<span class='co'>## get first 3 formants at three points during the sample, the mean, min, and max</span>
<span class='co'>## pitch, the max intensity, and the CoG using powers 1 and 2 </span>
<span class='no'>acoustic.measurements</span> <span class='kw'>&lt;-</span> <span class='fu'>processWithPraat</span>(
       <span class='no'>labbcat.url</span>,
       <span class='no'>results</span>$<span class='no'>MatchId</span>, <span class='no'>results</span>$<span class='no'>Target.segment.start</span>, <span class='no'>results</span>$<span class='no'>Target.segment.end</span>,
       <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(
           <span class='fu'><a href='praatScriptFormants.html'>praatScriptFormants</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>3</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.25</span>,<span class='fl'>0.5</span>,<span class='fl'>0.75</span>)),
           <span class='fu'><a href='praatScriptPitch.html'>praatScriptPitch</a></span>(<span class='kw'>get.mean</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>get.minimum</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>get.maximum</span><span class='kw'>=</span><span class='fl'>TRUE</span>),
           <span class='fu'><a href='praatScriptIntensity.html'>praatScriptIntensity</a></span>(),
           <span class='fu'><a href='praatScriptCentreOfGravity.html'>praatScriptCentreOfGravity</a></span>(<span class='kw'>powers</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1.0</span>,<span class='fl'>2.0</span>))),
       <span class='kw'>window.offset</span><span class='kw'>=</span><span class='fl'>0.5</span>)

<span class='co'>## execute a custom script loaded form a file</span>
<span class='no'>acoustic.measurements</span> <span class='kw'>&lt;-</span> <span class='fu'>processWithPraat</span>(
       <span class='no'>labbcat.url</span>,
       <span class='no'>results</span>$<span class='no'>MatchId</span>, <span class='no'>results</span>$<span class='no'>Target.segment.start</span>, <span class='no'>result</span>$<span class='no'>Target.segment.end</span>,
       <span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span>(<span class='st'>"acousticMeasurements.praat"</span>))
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <style type="text/css">
  footer img {
      vertical-align: middle;
      height: 40px;
      display: inline-block;
  }
</style>
<small><a rel='license' href='http://creativecommons.org/licenses/by-sa/2.0/'><img alt='CC-BY-SA Creative Commons Licence ' src='/labbcat-R/cc-by-sa.svg' title='This work is licensed under a Creative Commons Attribution-ShareAlike 2.0 Generic License' /></a><a rel='author' href='https://www.canterbury.ac.nz/nzilbb/'><img src='/labbcat-R/nzilbb.svg' alt='Te Kāhui Roro Reo | The New Zealand Institute of Language, Brain and Behaviour' title='&copy; 2021 NZILBB'></a></small>

      </footer>
   </div>

  


  </body>
</html>


